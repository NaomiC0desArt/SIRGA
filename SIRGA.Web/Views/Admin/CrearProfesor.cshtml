@using SIRGA.Web.Helpers
@using SIRGA.Web.ViewComponents
@model SIRGA.Web.Models.Profesor.CreateProfesorDto

@{
    ViewData["Title"] = "Crear Profesor";
    Layout = "~/Views/Shared/_LayoutWithSidebar.cshtml";
    ViewBag.UserName = User.Identity.Name;
    ViewBag.UserRole = "Administrador";
}

@section SidebarMenu {
    <partial name="_AdminSidebarMenu" />
}

<div class="max-w-2xl mx-auto">
    @await Component.InvokeAsync("FormHeader", new FormHeaderViewModel(
            "Crear Nuevo Profesor",
            "Complete la información básica del profesor",
            "M18 9v3m0 0v3m0-3h3m-3 0h-3m-2-5a4 4 0 11-8 0 4 4 0 018 0zM3 20a6 6 0 0112 0v1H3v-1z",
            "purple"
            ))

    <div class="bg-white rounded-2xl shadow-xl p-8 border border-gray-100">
        <form asp-action="CrearProfesor" method="post" class="space-y-6">
            <div asp-validation-summary="ModelOnly" class="text-sm text-red-500 bg-red-50 border border-red-200 rounded-lg p-4"></div>

            @await Component.InvokeAsync("InfoBox", new InfoBoxViewModel(
                     "Información importante:",
                     new List<string>
            {
            "El <strong>correo electrónico</strong> se generará automáticamente",
            "Se generará una <strong>contraseña temporal</strong> que se enviará por correo",
            "El profesor deberá completar su perfil en el primer inicio de sesión"
            },
                     "purple"
                     ))

            @await Component.InvokeAsync("ValidatedFormField", FormFieldsHelper.FirstNameField("purple"))
            @await Component.InvokeAsync("ValidatedFormField", FormFieldsHelper.LastNameField("purple"))

            @{
                var specialtyField = FormFieldsHelper.SpecialtyField("purple");
                specialtyField.HelpText = "Se generará una contraseña temporal que se enviará al correo del profesor.";
            }
            @await Component.InvokeAsync("ValidatedFormField", specialtyField)

            @await Component.InvokeAsync("FormActions", new FormActionsViewModel(
                     "Profesores",
                     "Crear Profesor",
                     "purple"
                     )
       {
           SubmitIconPath = "M12 6v6m0 0v6m0-6h6m-6 0H6"
       })
        </form>
    </div>
</div>

@section Scripts {
    <partial name="_ValidationScriptsPartial" />
}