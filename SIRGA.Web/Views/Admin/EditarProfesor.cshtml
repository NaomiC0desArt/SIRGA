@using SIRGA.Web.Helpers
@using SIRGA.Web.ViewComponents
@model SIRGA.Web.Models.Profesor.UpdateProfesorDto

@{
    ViewData["Title"] = "Editar Profesor";
    Layout = "~/Views/Shared/_LayoutWithSidebar.cshtml";
    ViewBag.UserName = User.Identity.Name;
    ViewBag.UserRole = "Administrador";
    var profesorId = ViewBag.ProfesorId;
}

@section SidebarMenu {
    <partial name="_AdminSidebarMenu" />
}

<div class="max-w-2xl mx-auto">
    @await Component.InvokeAsync("FormHeader", new FormHeaderViewModel(
            "Editar Profesor",
            "Actualiza la información del profesor",
            "M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z",
            "purple"
            ))

    <div class="bg-white rounded-2xl shadow-xl p-8 border border-gray-100">
        <form asp-action="EditarProfesor" asp-route-id="@profesorId" method="post" class="space-y-6">
            <div asp-validation-summary="ModelOnly" class="text-sm text-red-500 bg-red-50 border border-red-200 rounded-lg p-4"></div>

            @await Component.InvokeAsync("ValidatedFormField", FormFieldsHelper.FirstNameField("purple"))
            @await Component.InvokeAsync("ValidatedFormField", FormFieldsHelper.LastNameField("purple"))
            @await Component.InvokeAsync("ValidatedFormField", FormFieldsHelper.EmailField("purple"))
            @await Component.InvokeAsync("ValidatedFormField", FormFieldsHelper.PhoneField("purple"))
            @await Component.InvokeAsync("ValidatedFormField", FormFieldsHelper.ProvinceField("purple"))
            @await Component.InvokeAsync("ValidatedFormField", FormFieldsHelper.SectorField("purple"))
            @await Component.InvokeAsync("ValidatedFormField", FormFieldsHelper.AddressField("purple"))
            @await Component.InvokeAsync("ValidatedFormField", FormFieldsHelper.SpecialtyField("purple"))

            <div class="flex items-center">
                <input asp-for="IsActive" type="checkbox"
                       class="h-5 w-5 text-purple-600 focus:ring-purple-500 border-gray-300 rounded cursor-pointer" />
                <label asp-for="IsActive" class="ml-3 block text-md font-medium text-gray-700 cursor-pointer">
                    Profesor Activo
                </label>
            </div>

            @await Component.InvokeAsync("FormActions", new FormActionsViewModel(
                     "Profesores",
                     "Guardar Cambios",
                     "purple"
                     ))
        </form>
    </div>
</div>

@section Scripts {
    <partial name="_ValidationScriptsPartial" />
}