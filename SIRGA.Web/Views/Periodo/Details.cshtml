@model SIRGA.Application.DTOs.Entities.PeriodoDto

@{
    ViewData["Title"] = "Detalles del Periodo";

    // Helper para mostrar el nombre del periodo
    string ObtenerNombrePeriodo(int numero)
    {
        return numero switch
        {
            1 => "Primer Periodo",
            2 => "Segundo Periodo",
            3 => "Tercer Periodo",
            4 => "Cuarto Periodo",
            _ => numero.ToString()
        };
    }

    // Helper para obtener el color del badge según el periodo
    string ObtenerColorPeriodo(int numero)
    {
        return numero switch
        {
            1 => "bg-blue-100 text-blue-800 border border-blue-200",
            2 => "bg-green-100 text-green-800 border border-green-200",
            3 => "bg-yellow-100 text-yellow-800 border border-yellow-200",
            4 => "bg-purple-100 text-purple-800 border border-purple-200",
            _ => "bg-gray-100 text-gray-800 border border-gray-200"
        };
    }

    // Helper para obtener el icono según el periodo
    string ObtenerIconoPeriodo(int numero)
    {
        return numero switch
        {
            1 => "M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z",
            2 => "M13 10V3L4 14h7v7l9-11h-7z",
            3 => "M19.428 15.428a2 2 0 00-1.022-.547l-2.387-.477a6 6 0 00-3.86.517l-.318.158a6 6 0 01-3.86.517L6.05 15.21a2 2 0 00-1.806.547M8 4h8l-1 1v5.172a2 2 0 00.586 1.414l5 5c1.26 1.26.367 3.414-1.415 3.414H4.828c-1.782 0-2.674-2.154-1.414-3.414l5-5A2 2 0 009 10.172V5L8 4z",
            4 => "M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4",
            _ => "M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"
        };
    }

    // Calcular duración
    var duracion = (Model.FechaFin - Model.FechaInicio).Days + 1;
    var nombrePeriodo = ObtenerNombrePeriodo((int)Model.Numero);
    var colorPeriodo = ObtenerColorPeriodo((int)Model.Numero);
    var iconoPeriodo = ObtenerIconoPeriodo((int)Model.Numero);

    // Determinar estado del periodo
    var hoy = DateTime.Today;
    string estadoPeriodo, colorEstado, iconoEstado;
    if (hoy < Model.FechaInicio)
    {
        estadoPeriodo = "Por iniciar";
        colorEstado = "bg-gray-100 text-gray-800";
        iconoEstado = "M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z";
    }
    else if (hoy >= Model.FechaInicio && hoy <= Model.FechaFin)
    {
        estadoPeriodo = "En curso";
        colorEstado = "bg-green-100 text-green-800";
        iconoEstado = "M13 10V3L4 14h7v7l9-11h-7z";
    }
    else
    {
        estadoPeriodo = "Finalizado";
        colorEstado = "bg-blue-100 text-blue-800";
        iconoEstado = "M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z";
    }

    // Calcular progreso si está en curso
    double progreso = 0;
    if (hoy >= Model.FechaInicio && hoy <= Model.FechaFin)
    {
        var diasTotales = duracion;
        var diasTranscurridos = (hoy - Model.FechaInicio).Days + 1;
        progreso = (diasTranscurridos * 100.0) / diasTotales;
    }
}

<div class="min-h-screen bg-gray-50 px-3 sm:px-4 lg:px-8 pt-8">
    <div class="max-w-4xl mx-auto">

        <!-- Header -->
        <div class="bg-white rounded-2xl shadow-xl p-8 border border-gray-100 mb-8">
            <div class="flex flex-col sm:flex-row justify-between items-start sm:items-center gap-6">
                <div class="flex items-center">
                    <div class="h-16 w-16 bg-gradient-to-r from-emerald-500 to-emerald-600 rounded-2xl flex items-center justify-center mr-5 shadow-lg">
                        <svg class="w-8 h-8 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="@iconoPeriodo" />
                        </svg>
                    </div>
                    <div>
                        <h1 class="text-3xl font-bold text-gray-900">@nombrePeriodo</h1>
                        <p class="text-gray-600 mt-1">Detalles del periodo académico</p>
                    </div>
                </div>

                <div class="flex gap-3">
                    <a asp-action="Index"
                       class="inline-flex items-center px-5 py-2.5 bg-gray-100 hover:bg-gray-200 text-gray-700 font-medium rounded-lg shadow-sm hover:shadow-md transition-all duration-200">
                        <svg class="w-5 h-5 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 19l-7-7m0 0l7-7m-7 7h18" />
                        </svg>
                        Volver
                    </a>
                    <a asp-action="Edit" asp-route-id="@Model.Id"
                       class="inline-flex items-center px-5 py-2.5 bg-blue-500 hover:bg-blue-600 text-white font-medium rounded-lg shadow-sm hover:shadow-md transition-all duration-200">
                        <svg class="w-5 h-5 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z" />
                        </svg>
                        Editar
                    </a>
                </div>
            </div>
        </div>

        <!-- Información Principal -->
        <div class="grid grid-cols-1 lg:grid-cols-3 gap-8 mb-8">
            <!-- Tarjeta de Información General -->
            <div class="lg:col-span-2 bg-white rounded-2xl shadow-xl border border-gray-100 p-8">
                <h2 class="text-xl font-bold text-gray-900 mb-6 pb-4 border-b border-gray-200 flex items-center">
                    <svg class="w-5 h-5 mr-3 text-emerald-500" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z" />
                    </svg>
                    Información General
                </h2>

                <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                    <div>
                        <h3 class="text-sm font-medium text-gray-500 mb-2">ID del Periodo</h3>
                        <div class="flex items-center">
                            <span class="inline-flex items-center px-3 py-1.5 rounded-full text-sm font-medium bg-emerald-100 text-emerald-800 border border-emerald-200">
                                <svg class="w-4 h-4 mr-1.5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 20l4-16m2 16l4-16M6 9h14M4 15h14" />
                                </svg>
                                @Model.Id
                            </span>
                        </div>
                    </div>

                    <div>
                        <h3 class="text-sm font-medium text-gray-500 mb-2">Número de Periodo</h3>
                        <div class="flex items-center">
                            <span class="inline-flex items-center px-4 py-2 rounded-lg text-sm font-semibold @colorPeriodo">
                                <svg class="w-4 h-4 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="@iconoPeriodo" />
                                </svg>
                                @((int)Model.Numero) - @nombrePeriodo
                            </span>
                        </div>
                    </div>

                    <div>
                        <h3 class="text-sm font-medium text-gray-500 mb-2">Año Escolar</h3>
                        <div class="flex items-center">
                            <span class="inline-flex items-center px-3 py-1.5 rounded-full text-sm font-medium bg-indigo-100 text-indigo-800 border border-indigo-200">
                                <svg class="w-4 h-4 mr-1.5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z" />
                                </svg>
                                @Model.AnioEscolar
                            </span>
                        </div>
                    </div>

                    <div>
                        <h3 class="text-sm font-medium text-gray-500 mb-2">Estado Actual</h3>
                        <div class="flex items-center">
                            <span class="inline-flex items-center px-3 py-1.5 rounded-full text-sm font-semibold @colorEstado">
                                <svg class="w-4 h-4 mr-1.5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="@iconoEstado" />
                                </svg>
                                @estadoPeriodo
                            </span>
                        </div>
                    </div>

                    <div>
                        <h3 class="text-sm font-medium text-gray-500 mb-2">Fecha de Inicio</h3>
                        <div class="flex items-center space-x-3">
                            <div class="bg-blue-50 p-3 rounded-lg border border-blue-100">
                                <div class="text-lg font-bold text-blue-700">
                                    @Model.FechaInicio.ToString("dd/MM/yyyy")
                                </div>
                                <div class="text-xs text-blue-600 mt-1">
                                    @Model.FechaInicio.ToString("dddd", new System.Globalization.CultureInfo("es-ES"))
                                </div>
                            </div>
                        </div>
                    </div>

                    <div>
                        <h3 class="text-sm font-medium text-gray-500 mb-2">Fecha de Fin</h3>
                        <div class="flex items-center space-x-3">
                            <div class="bg-red-50 p-3 rounded-lg border border-red-100">
                                <div class="text-lg font-bold text-red-700">
                                    @Model.FechaFin.ToString("dd/MM/yyyy")
                                </div>
                                <div class="text-xs text-red-600 mt-1">
                                    @Model.FechaFin.ToString("dddd", new System.Globalization.CultureInfo("es-ES"))
                                </div>
                            </div>
                        </div>
                    </div>

                    <div>
                        <h3 class="text-sm font-medium text-gray-500 mb-2">Duración Total</h3>
                        <div class="flex items-center space-x-3">
                            <div class="bg-emerald-50 p-3 rounded-lg border border-emerald-100">
                                <div class="text-lg font-bold text-emerald-700">
                                    @duracion días
                                </div>
                                <div class="text-xs text-emerald-600 mt-1">
                                    @{
                                        var semanas = Math.Floor(duracion / 7.0);
                                        var diasRestantes = duracion % 7;
                                    }
                                    @semanas semanas @(diasRestantes > 0 ? $"y {diasRestantes} días" : "")
                                </div>
                            </div>
                        </div>
                    </div>

                    <div>
                        <h3 class="text-sm font-medium text-gray-500 mb-2">Días Restantes</h3>
                        <div class="flex items-center space-x-3">
                            <div class="bg-purple-50 p-3 rounded-lg border border-purple-100">
                                @if (hoy < Model.FechaInicio)
                                {
                                    var diasParaInicio = (Model.FechaInicio - hoy).Days;
                                    <div class="text-lg font-bold text-purple-700">
                                        Inicia en @diasParaInicio días
                                    </div>
                                    <div class="text-xs text-purple-600 mt-1">
                                        @Model.FechaInicio.ToString("dd/MM/yyyy")
                                    </div>
                                }
                                else if (hoy > Model.FechaFin)
                                {
                                    var diasDesdeFin = (hoy - Model.FechaFin).Days;
                                    <div class="text-lg font-bold text-purple-700">
                                        Finalizó hace @diasDesdeFin días
                                    </div>
                                    <div class="text-xs text-purple-600 mt-1">
                                        @Model.FechaFin.ToString("dd/MM/yyyy")
                                    </div>
                                }
                                else
                                {
                                     diasRestantes = (Model.FechaFin - hoy).Days + 1;
                                    <div class="text-lg font-bold text-purple-700">
                                        @diasRestantes días restantes
                                    </div>
                                    <div class="text-xs text-purple-600 mt-1">
                                        Finaliza @Model.FechaFin.ToString("dd/MM/yyyy")
                                    </div>
                                }
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Progreso si está en curso -->
                @if (hoy >= Model.FechaInicio && hoy <= Model.FechaFin)
                {
                    <div class="mt-8 pt-6 border-t border-gray-200">
                        <div class="flex justify-between items-center mb-3">
                            <h3 class="text-sm font-medium text-gray-500">Progreso del Periodo</h3>
                            <span class="text-sm font-semibold text-emerald-600">@progreso.ToString("F1")% completado</span>
                        </div>
                        <div class="w-full bg-gray-200 rounded-full h-2.5">
                            <div class="bg-gradient-to-r from-emerald-500 to-emerald-600 h-2.5 rounded-full transition-all duration-300"
                                 style="width: @progreso.ToString("F1")%"></div>
                        </div>
                        <div class="flex justify-between text-xs text-gray-500 mt-2">
                            <span>Inicio: @Model.FechaInicio.ToString("dd/MM")</span>
                            <span>Hoy: @hoy.ToString("dd/MM")</span>
                            <span>Fin: @Model.FechaFin.ToString("dd/MM")</span>
                        </div>
                    </div>
                }
            </div>

            <!-- Tarjeta de Estadísticas -->
            <div class="bg-white rounded-2xl shadow-xl border border-gray-100 p-8">
                <h2 class="text-xl font-bold text-gray-900 mb-6 pb-4 border-b border-gray-200 flex items-center">
                    <svg class="w-5 h-5 mr-3 text-emerald-500" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z" />
                    </svg>
                    Estadísticas
                </h2>

                <div class="space-y-6">
                    <div>
                        <h3 class="text-sm font-medium text-gray-500 mb-3">Distribución del Año</h3>
                        <div class="space-y-3">
                            <div class="flex items-center justify-between">
                                <span class="text-sm text-gray-600">Este periodo representa:</span>
                                <span class="text-sm font-semibold text-gray-900">@((duracion / 365.0 * 100).ToString("F1"))% del año</span>
                            </div>
                            <div class="flex items-center justify-between">
                                <span class="text-sm text-gray-600">Días hábiles aproximados:</span>
                                <span class="text-sm font-semibold text-gray-900">@((duracion * 5 / 7).ToString("F0")) días</span>
                            </div>
                        </div>
                    </div>

                    <div>
                        <h3 class="text-sm font-medium text-gray-500 mb-3">Temporada</h3>
                        <div class="flex items-center space-x-3">
                            @{
                                var mesInicio = Model.FechaInicio.Month;
                                string temporada, temporadaColor;
                                if (mesInicio >= 3 && mesInicio <= 5)
                                {
                                    temporada = "Primavera";
                                    temporadaColor = "bg-pink-100 text-pink-800";
                                }
                                else if (mesInicio >= 6 && mesInicio <= 8)
                                {
                                    temporada = "Verano";
                                    temporadaColor = "bg-yellow-100 text-yellow-800";
                                }
                                else if (mesInicio >= 9 && mesInicio <= 11)
                                {
                                    temporada = "Otoño";
                                    temporadaColor = "bg-orange-100 text-orange-800";
                                }
                                else
                                {
                                    temporada = "Invierno";
                                    temporadaColor = "bg-blue-100 text-blue-800";
                                }
                            }
                            <span class="inline-flex items-center px-3 py-1.5 rounded-full text-sm font-medium @temporadaColor">
                                <svg class="w-4 h-4 mr-1.5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z" />
                                </svg>
                                @temporada
                            </span>
                        </div>
                    </div>

                    <div>
                        <h3 class="text-sm font-medium text-gray-500 mb-3">Semestre</h3>
                        <div class="flex items-center space-x-3">
                            @{
                                var semestre = Model.Numero <= 2 ? "Primer Semestre" : "Segundo Semestre";
                                var semestreColor = Model.Numero <= 2 ? "bg-indigo-100 text-indigo-800" : "bg-purple-100 text-purple-800";
                            }
                            <span class="inline-flex items-center px-3 py-1.5 rounded-full text-sm font-medium @semestreColor">
                                <svg class="w-4 h-4 mr-1.5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z" />
                                </svg>
                                @semestre
                            </span>
                        </div>
                    </div>
                </div>

                <!-- Información Adicional -->
                <div class="mt-8 pt-6 border-t border-gray-200">
                    <h3 class="text-sm font-medium text-gray-500 mb-3">Información Adicional</h3>
                    <div class="space-y-2 text-sm text-gray-600">
                        <div class="flex items-center">
                            <svg class="w-4 h-4 mr-2 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z" />
                            </svg>
                            <span>Última actualización: @DateTime.Now.ToString("dd/MM/yyyy HH:mm")</span>
                        </div>
                        <div class="flex items-center">
                            <svg class="w-4 h-4 mr-2 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z" />
                            </svg>
                            <span>Periodo definido por el sistema académico</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Acciones -->
        <div class="bg-white rounded-2xl shadow-xl border border-gray-100 p-8">
            <h2 class="text-xl font-bold text-gray-900 mb-6 pb-4 border-b border-gray-200 flex items-center">
                <svg class="w-5 h-5 mr-3 text-emerald-500" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z" />
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z" />
                </svg>
                Acciones
            </h2>

            <div class="flex flex-wrap gap-4">
                <a asp-action="Edit" asp-route-id="@Model.Id"
                   class="inline-flex items-center px-6 py-3 bg-gradient-to-r from-blue-500 to-blue-600 hover:from-blue-600 hover:to-blue-700 text-white font-semibold rounded-lg shadow-lg hover:shadow-xl transform hover:scale-105 transition-all duration-200">
                    <svg class="w-5 h-5 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z" />
                    </svg>
                    Editar Periodo
                </a>

                <a asp-action="Index"
                   class="inline-flex items-center px-6 py-3 bg-gradient-to-r from-gray-500 to-gray-600 hover:from-gray-600 hover:to-gray-700 text-white font-semibold rounded-lg shadow-lg hover:shadow-xl transform hover:scale-105 transition-all duration-200">
                    <svg class="w-5 h-5 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 19l-7-7m0 0l7-7m-7 7h18" />
                    </svg>
                    Volver al Listado
                </a>

                <a href="#"
                   data-id="@Model.Id"
                   class="inline-flex items-center px-6 py-3 bg-gradient-to-r from-red-500 to-red-600 hover:from-red-600 hover:to-red-700 text-white font-semibold rounded-lg shadow-lg hover:shadow-xl transform hover:scale-105 transition-all duration-200 confirm-delete"
                   data-nombre="@nombrePeriodo"
                   data-fechas="@Model.FechaInicio.ToString("dd/MM/yyyy") - @Model.FechaFin.ToString("dd/MM/yyyy")">
                    <svg class="w-5 h-5 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16" />
                    </svg>
                    Eliminar Periodo
                </a>
                <form id="deleteForm" method="post" style="display:none;">
                    <input type="hidden" name="id" id="deleteId" />
                </form>
            </div>
        </div>
    </div>
</div>

@section Scripts {
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
    <script>
        // Confirmación para eliminación (mismo script que en Index)
        document.querySelectorAll('.confirm-delete').forEach(link => {
            link.addEventListener('click', function(e) {
                e.preventDefault();
                const id = this.getAttribute('data-id');
                const nombre = this.getAttribute('data-nombre');
                const fechas = this.getAttribute('data-fechas');

                Swal.fire({
                    title: '¿Eliminar Periodo?',
                    html: `
                        <div class="text-left space-y-3">
                            <p class="text-gray-700">Estás a punto de eliminar el periodo:</p>
                            <div class="bg-gray-100 p-4 rounded-lg">
                                <p class="font-semibold text-gray-900 text-lg text-center">${nombre}</p>
                                <p class="text-sm text-gray-600 text-center mt-1">${fechas}</p>
                            </div>
                            <div class="bg-red-50 border-l-4 border-red-400 p-3 rounded">
                                <p class="text-sm text-red-700">
                                    <strong>¡Advertencia!</strong><br>
                                    Esta acción eliminará permanentemente el periodo y puede afectar registros académicos asociados.
                                </p>
                            </div>
                        </div>
                    `,
                    icon: 'warning',
                    showCancelButton: true,
                    confirmButtonColor: '#dc2626',
                    cancelButtonColor: '#6b7280',
                    confirmButtonText: 'Sí, eliminar',
                    cancelButtonText: 'Cancelar',
                    customClass: {
                        popup: 'rounded-2xl',
                        confirmButton: 'rounded-lg px-6 py-2.5',
                        cancelButton: 'rounded-lg px-6 py-2.5'
                    }
                }).then((result) => {
                    if (result.isConfirmed) {
                        // Rellenar formulario oculto
                        document.getElementById("deleteId").value = id;

                        // Enviar formulario por POST
                        const form = document.getElementById("deleteForm");
                        form.action = `/Periodo/Delete/${id}`;
                        form.submit();
                    }
                });
            });
        });

        // Animación para elementos de progreso
        document.addEventListener('DOMContentLoaded', function() {
            const progressBar = document.querySelector('.bg-gradient-to-r.from-emerald-500.to-emerald-600');
            if (progressBar) {
                // Animar la barra de progreso
                const progress = parseFloat(progressBar.style.width);
                progressBar.style.width = '0%';
                setTimeout(() => {
                    progressBar.style.transition = 'width 1.5s ease-in-out';
                    progressBar.style.width = progress + '%';
                }, 300);
            }
        });
    </script>

    <style>
        @@keyframes fade-in {
            from {
                opacity: 0;
                transform: translateY(-10px);
            }

            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .animate-fade-in {
            animation: fade-in 0.3s ease-out;
        }
    </style>
}